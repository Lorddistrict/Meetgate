{% extends 'default/base.html.twig' %}

{% block title %}Event{% endblock %}

{% block body %}

    <div class="meetgate">
        <div class="container-fluid event">
            <div class="intro">
                <div class="intro-content">
                    <img src="{{ event.picture }}" alt="{{ event.picture }}">
                    <div class="aside">
                        <h1>{{ event.title }}</h1>
                        <hr>
                        <div class="desc">
                            <p>
                                {{ event.description }}
                            </p>
                            <br>
                            <div class="row">
                                <div class="col-md-12">
                                    <strong>Date : </strong>{{ event.dateEvent|date('d / m / Y') }}
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <strong>Duree : </strong>
                                    {{ (event.duration > 1) ? event.duration ~ ' jours' : event.duration ~ ' jour' }}
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <strong>Prix : </strong>
                                    <span class="price">{{ (event.price > 0) ? event.price ~ '$' : 'Gratuit' }}</span>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <strong>Tags : </strong>
                                    {% for tag in event.tags %}
                                        <a href="{{ url('tag', { id: tag.id }) }}" class="tag-link">
                                            <span class="badge badge-pill badge-success">{{ tag.name }}</span>&nbsp;
                                        </a>
                                    {% endfor %}
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <strong>Adress : </strong>
                                    {{ event.adress }}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="clear"></div>
                    <br>
                    <hr>
                    <div class="row">
                        <div class="col-md-6">
                            <div id='map' style='width: 100%; min-height: 700px;'></div>
                        </div>
                        <div class="col-md-6">
                            <div class="row">
                                <div class="col-md-12">
                                    Hello !
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        var mymap = L.map('map').setView([37, 37], 15);
        L.tileLayer('https://tile.jawg.io/jawg-streets/{z}/{x}/{y}.png?access-token=Jzs7FO4Bpk5YlFY8MFqVd4nErx9UwWkbJIYlpxsDdbpv0jCp7XunDMnFN9h9Hbqa&text=Montreau', {}).addTo(mymap);
        L.control.geocoder('Jzs7FO4Bpk5YlFY8MFqVd4nErx9UwWkbJIYlpxsDdbpv0jCp7XunDMnFN9h9Hbqa', {url: 'https://api.jawg.io/places/v1', autocomplete: true}).addTo(mymap);
        console.log(mymap);
    </script>

    <script type="application/javascript">
        $(document).ready(function(){
           $('span.badge').hover(function(){
               $(this).toggleClass('badge-success');
               $(this).toggleClass('badge-warning');
           });
        });
    </script>

{% endblock %}